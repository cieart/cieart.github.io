<!DOCTYPE html>
<html>
  <head>
    <title>El horno de la esquina</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />

    <?!= include("style1-css"); ?>
  </head>

  <body>
    <!-- Navbar (sit on top) -->
    <div class="w3-top">
      <div
        class="w3-bar w3-white w3-padding w3-card"
        style="letter-spacing: 4px"
      >
        <a href="#home" class="w3-bar-item w3-button">El Horno de la Esquina</a>
        <!-- Right-sided navbar links. Hide them on small screens -->
        <div class="w3-right w3-hide-small">
          <a href="#about" class="w3-bar-item w3-button">Acerca de nosotros</a>
          <a href="#menu" class="w3-bar-item w3-button">Menú</a>
          <a href="#contact" class="w3-bar-item w3-button">Contactanos</a>
        </div>
      </div>
    </div>

    <!-- Header -->
    <header
      class="w3-display-container w3-content w3-wide"
      style="max-width: 1600px; min-width: 500px"
      id="home"
    >
      <img
        class="w3-image"
        src="https://img.freepik.com/psd-premium/preparacion-pizzas-caseras_957244-34674.jpg?w=996"
        alt="Hamburger Catering"
        width="1600"
        height="800"
      />
      <div class="w3-display-bottomleft w3-padding-large w3-opacity">
        <h1 class="w3-xxlarge">El Horno de la esquina</h1>
      </div>
    </header>

    <!-- Page content -->
    <div class="w3-content" style="max-width: 1100px">
      <!-- About Section -->
      <div class="w3-row w3-padding-64" id="about">
        <div class="w3-col m6 w3-padding-large w3-hide-small">
          <img
            src="https://images.pexels.com/photos/17637081/pexels-photo-17637081/free-photo-of-comida-pizza-hombre-mano.png?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
            class="w3-round w3-image w3-opacity-min"
            alt="Table Setting"
            width="600"
            height="750"
          />
        </div>

        <div class="w3-col m6 w3-padding-large">
          <h1 class="w3-center">Acerca de nosotros</h1>
          <br />
          <h5 class="w3-center">Un emprendimiento nuevo</h5>
          <p class="w3-large">
            ¡Bienvenidos a <strong>El Horno de la Esquina</strong>! Somos una
            joven y apasionada empresa dedicada a ofrecer las mejores pizzas y
            paninis en Turi, Azuay. Nos enorgullece utilizar
            <span class="w3-tag w3-light-grey"
              >Ingredientes locales, frescos y de temporada
            </span>
            para brindar sabores únicos y auténticos. Ven y descubre por qué
            nuestra comunidad nos elige como su favorito.
          </p>
          <p class="w3-large w3-text-grey w3-hide-medium">
            En El Horno de la Esquina, cada pizza y panini se prepara con
            dedicación y esmero, buscando siempre satisfacer los paladares más
            exigentes. Nos enorgullece ofrecer un servicio amistoso y cercano,
            donde cada cliente es tratado como familia.
          </p>
          <p class="w3-large w3-text-grey w3-hide-medium">
            Ven a visitarnos y descubre por qué en tan poco tiempo hemos podido
            ganarnos el corazón (y el estómago) de nuestra comunidad. ¡Te
            esperamos!.
          </p>

          <h1><b>Horario de atención</b></h1>

          <div class="w3-row">
            <div class="w3-half">
              <p>Domingo, Lunes &amp; Martes Cerrado</p>
              <p>Miercoles 14:00 - 19:00</p>
              <p>Jueves 14:00 - 19:00</p>
            </div>
            <div class="w3-half">
              <p>Viernes 14:00 - 22:30</p>
              <p>Sabado 14:00 - 22:30</p>
            </div>
          </div>
        </div>
      </div>

      <hr />

      <!-- Sección "Menú" -->
      <div id="menu" class="w3-padding-64">
        <h2 class="w3-center">Nuestro Menú</h2>
        <div class="menu-container">
          <!-- Pizzas -->
          <div class="menu-column" id="pizzas-section">
            <h3>Pizzas</h3>
          </div>

          <!-- Paninis -->
          <div class="menu-column" id="paninis-section">
            <h3>Paninis</h3>
          </div>
        </div>
      </div>

      <hr />

      <!-- Contact Section -->
      <div class="w3-container w3-padding-64" id="contact">
        <h1>Formulario de contacto</h1>
        <p>
          ¿Tienes un evento o una celebración especial? ¡Contáctanos! Ofrecemos
          servicios personalizados para eventos.
        </p>
        <p class="w3-text-blue-grey w3-large">
          <b
            >Servicio de catering, Calle Turi - Tarqui, sector centro de Turi,
            Cuenca - Ecuador</b
          >
        </p>
        <p>
          Contáctanos al teléfono <b>0992690808</b>, o envíanos un mensaje por
          <a
            class="w3-text-blue-grey w3-large"
            href="https://wa.me/+593992690808"
            target="_blank"
            >WhatsApp</a
          >. También puedes enviarnos un email a <b>taitachugo@gmail.com</b>, o
          llenar el siguiente formulario:
        </p>
        <form id="contactForm">
          <p>
            <input
              class="w3-input w3-padding-16"
              type="text"
              id="name"
              placeholder="Ingresa tu nombre completo"
              required
              name="Name"
            />
          </p>
          <p>
            <input
              class="w3-input w3-padding-16"
              type="email"
              id="email"
              placeholder="Ingresa tu email"
              required
              name="Email"
            />
          </p>
          <p>
            <input
              class="w3-input w3-padding-16"
              type="tel"
              id="phone"
              placeholder="Ingresa tu teléfono"
              required
              name="Phone"
            />
          </p>
          <p>
            <input
              class="w3-input w3-padding-16"
              type="number"
              id="people"
              placeholder="Ingresa el número de personas"
              required
              name="People"
            />
          </p>
          <p>
            <input
              class="w3-input w3-padding-16"
              type="datetime-local"
              id="date"
              required
              name="Date"
            />
          </p>
          <p>
            <textarea
              class="w3-input w3-padding-16"
              id="message"
              placeholder="Mensaje o requisitos especiales"
              required
              name="Message"
            ></textarea>
          </p>
          <p>
            <button
              class="w3-button w3-light-grey w3-section"
              type="button"
              onclick="sendFormData()"
            >
              Enviar mensaje
            </button>
          </p>
        </form>
      </div>

      <!-- End page content -->
    </div>

    <!-- Footer -->
    <footer class="w3-center w3-light-grey w3-padding-32">
      <div class="footer-content">
        <p class="mb-0">
          &copy; 2025 El Horno de la Esquina. Desarrollado por
          <strong>Johny Plaza M.</strong>
        </p>
      </div>
    </footer>

    <!-- script del formulario de contacto -->
    <script>
      function sendFormData() {
        const formData = {
          Name: document.getElementById("name").value,
          Email: document.getElementById("email").value,
          Phone: document.getElementById("phone").value,
          People: document.getElementById("people").value,
          Date: document.getElementById("date").value,
          Message: document.getElementById("message").value,
        };

        google.script.run
          .withSuccessHandler(() => {
            alert("Correo enviado con éxito.");

            document.getElementById("contactForm").reset();
          })
          .withFailureHandler((error) => {
            alert("Hubo un error al enviar el correo: " + error.message);
          })
          .enviarCorreo(formData);
      }
    </script>

    <!-- script del formulario de menu -->

    <script>
          window.addEventListener('load', function() {
        // Asegúrate de que los datos del menú estén correctamente inyectados
        const menuData = <?!= menuData ?>;  // Datos del menú
        const posData = <?!= posData ?>;    // Datos del POS
        //const menuData = <?= menuData ?>;
        //const posData = <?= posData ?>;

        // Verificar si los datos están correctamente inyectados
        console.log("Datos del menú:", menuData);
        console.log("Datos del POS:", posData);

        // Función para renderizar un menú específico en una sección
        function renderMenu(category, sectionId) {
          const section = document.getElementById(sectionId);
          if (!section) {
            console.error(`No se encontró la sección con id: ${sectionId}`);
            return;
          }

          const fragment = document.createDocumentFragment();  // Fragmento para evitar reflows innecesarios

          if (menuData[category] && menuData[category].length > 0) {
            menuData[category].forEach(item => {
              const itemHtml = document.createElement('div');
              itemHtml.innerHTML = `
                <h4>${item.name}</h4>  <!-- Nombre del plato -->
                <p class="w3-text-grey">${item.description} -  <p class="w3-text-blue-grey w3-large"><b> $${item.price.toFixed(2)}</b></p></p><br> <!-- Descripción y precio -->
              `;
              fragment.appendChild(itemHtml);
            });
          } else {
            const noItems = document.createElement('div');
            noItems.innerHTML = `<p>No hay items disponibles para esta categoría.</p>`;
            fragment.appendChild(noItems);
          }

          section.appendChild(fragment);
        }

        // Llamar a la función para renderizar cada categoría del menú
        renderMenu('pizzas', 'pizzas-section');
        renderMenu('paninis', 'paninis-section');
        //renderMenu('extras', 'extras-section');
        //renderMenu('bebidasFrias', 'bebidas-frias-section');
        //renderMenu('bebidasCalientes', 'bebidas-calientes-section');
      });
    </script>
  </body>
</html>
